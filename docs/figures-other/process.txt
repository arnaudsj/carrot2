<![CDATA[<?xml version="1.0" encoding="UTF-8"?>

<process
    xmlns="http://www.dawidweiss.com/projects/carrot/processDescriptor"
    id="carrot2.process.lsi-google-en" ]]><co id="process-id"/><![CDATA[ 
    description="Google, LSI, Dynamic Tree" ]]><co id="process-description"/><![CDATA[ 
>
    <processing-script language="beanshell"><![CDATA[
    
    controller.setUseCachedInput(true); ]]><co id="usecache"/><![CDATA[
    controller.setDoCacheInput(true);   ]]><co id="docache"/><![CDATA[

    InputStream is;

    is = controller.invokeInputComponent( "carrot2.input.snippet-reader.google",
                                          query ); ]]><co id="input.invoke"/><![CDATA[
        
    Map lsiOptions = new HashMap();
    lsiOptions.put("stemmer.english",
                   "com.dawidweiss.carrot.filter.stemming.porter.PorterStemmer");
    lsiOptions.put("stemmer.polish",
                   "com.dawidweiss.carrot.filter.stemming.lametyzator.Lametyzator");
    lsiOptions.put("lsi.threshold.clusterAssignment", "0.225");
    lsiOptions.put("lsi.threshold.candidateCluster",  "0.775");
    is = controller.invokeFilterComponent( "carrot2.filter.multilingual-lsi-clusterer",
                                           is, lsiOptions ); ]]><co id="filter.invoke"/><![CDATA[
    
    Map dtreeOptions = new HashMap();
    dtreeOptions.put("dtree.css", "compact.css");
    dtreeOptions.put("param.output.terminal.nodes", "true" );
    dtreeOptions.put("param.max.open.level", "0");
    dtreeOptions.put("param.max.subgroup.snippets.included", "3" );
    dtreeOptions.put("param.no.terminal.groups.expansion", "true" );
    dtreeOptions.put("param.snippets.sorting.type", "ORDER_SCORE_ATTRIBUTE");
    is = controller.invokeOutputComponent( "carrot2.output.xslt-renderer.dynamic-tree",
                                           is, dtreeOptions ); ]]><co id="output.invoke"/><![CDATA[

    controller.sendResponse( is );  ]]><co id="send.response"/><![CDATA[

    ]]>]]&gt;<![CDATA[
    </processing-script>
</process>]]>
