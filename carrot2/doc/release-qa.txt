
Quality Assurance [before a release]
-----------------

- Make sure the local checkout is in sync with the server:

	svn stat -u                 (nothing should be printed)


- Go to carrot root checkout and issue the following:

	ant license                 (commit and repeat if license files have been saved)

	ant -q cleanall clean

	ant -q test                 (all tests must pass)
	
	ant -q build                (remote and local applications must build)

	ant javadoc                 (no fatal errors)


- Create a distribution for final testing, replacing "VERSION" with real release number.

	ant -q -Drelease.number=VERSION dist


- Try the local application


- Deploy remote applications on a clean Tomcat server, modify server.xml according
to instructions in the readme.txt file. See if it works.


- Again check if there are no locally modified sources:

	svn stat -u                 (nothing should be printed)

- Assign version number.
	- place the release date in: doc/roadmap-VERSION.txt (if it is present).
	- commit your changes.

- Tag the repository:

	svn copy https://svn.sourceforge.net/svnroot/carrot2/trunk/carrot2 https://svn.sourceforge.net/svnroot/carrot2/tags/VERSION_xxx

- Create distributions from the tagged version of the repository.

	ant -Drelease.number=VERSION -q clean cleanall dist

- Publish distributions in SourceForge's file area (Admin->File Releases).
Download them and see if they unpack successfully.

- Edit the open source website:
  - add brief release notes (website/src/release-VERSION-notes.xml)
    with a summary of the major and minor changes
  - add a one-sentence news info on the main page (website/src/index.xml)
    with a link to the release-VERSION-notes file
  - update the download page (website/src/download.xml) to contain
    a link to the newest release notes and direct links to the
    newest binaries on sourceforge.

- Publish news to:

  carrot2-news@lists.sourceforge.net
  carrot2-developers@lists.sourceforge.net
  Lucene/Nutch lists?
  KDNuggets