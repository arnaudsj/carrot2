<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE web-app PUBLIC "-//Sun Microsystems, Inc.//DTD Web Application 2.3//EN" "http://java.sun.com/dtd/web-app_2_3.dtd">
<web-app>
    <display-name>dcs</display-name>
    <description>Document Clustering Server</description>

    <servlet>
        <servlet-name>InitializationServlet</servlet-name>
        <servlet-class>org.carrot2.dcs.http.InitializationServlet</servlet-class>

		<!-- A web-application-relative path to the process and component descriptors
		folder.
		-->
        <init-param>
        	<param-name>dcs.descriptors-dir</param-name>
        	<param-value>/descriptors</param-value>
       	</init-param>

        <!-- Uncomment to select specific default algorithm. By default the first
        available algorithm is taken.
        <init-param>
        	<param-name>dcs.default.algorithm</param-name>
        	<param-value>(process-id)</param-value>
       	</init-param>
        -->

        <!-- Enable to mirror input documents in the result (result will
			contain just the clusters). -->
        <init-param>
        	<param-name>dcs.clusters.only</param-name>
        	<param-value>false</param-value>
       	</init-param>

		<!-- This parameter controls the default output format of clustered results.
		Choose among the following options:
		  - json   JSON output format.
		  - xml    XML output format.
		-->
        <init-param>
        	<param-name>dcs.default.output</param-name>
        	<param-value>xml</param-value>
       	</init-param>
       	
        <load-on-startup>1</load-on-startup>       	
    </servlet>

    <servlet>
        <servlet-name>RESTProcessor</servlet-name>
        <servlet-class>org.carrot2.dcs.http.rest.RESTProcessorServlet</servlet-class>
        <load-on-startup>2</load-on-startup>
    </servlet>

    <servlet>
        <servlet-name>XMLRPCProcessor</servlet-name>
        <servlet-class>org.carrot2.dcs.http.xmlrpc.XMLRPCProcessorServlet</servlet-class>
        <load-on-startup>2</load-on-startup>
    </servlet>

    <servlet>
        <servlet-name>DenyAccessServlet</servlet-name>
        <servlet-class>org.carrot2.dcs.http.DenyAccessServlet</servlet-class>
        <load-on-startup>2</load-on-startup>
    </servlet>

    <!-- Map services to application URIs -->

    <servlet-mapping>
        <servlet-name>RESTProcessor</servlet-name>
        <url-pattern>/rest/processor</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>XMLRPCProcessor</servlet-name>
        <url-pattern>/xmlrpc/processor</url-pattern>
    </servlet-mapping>

	<!-- Protect scripts -->

    <servlet-mapping>
        <servlet-name>DenyAccessServlet</servlet-name>
        <url-pattern>*.sh</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>DenyAccessServlet</servlet-name>
        <url-pattern>*.cmd</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>DenyAccessServlet</servlet-name>
        <url-pattern>/algorithms/*</url-pattern>
    </servlet-mapping>

    <servlet-mapping>
        <servlet-name>DenyAccessServlet</servlet-name>
        <url-pattern>/example/*</url-pattern>
    </servlet-mapping>
</web-app>