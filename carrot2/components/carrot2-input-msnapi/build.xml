
<project name="Carrot2 input component using Microsoft Search API" default="build">

    <property name="tests.available"  value="true"    />

    <property name="project.dir"      location="${basedir}" />
    <property name="carrot2.code.dir"  location="../.." />
    <property name="dist.name"        value="carrot2-input-msnapi" />
    <property name="type" value="jartype" />

    <import file="${carrot2.code.dir}/components/common-targets.inc" />
    
    <target name="generate">
        <path id="axis.classpath">
          <fileset dir="${carrot2.code.dir}">
            <include name="lib/commons-logging*.jar" />
            <include name="lib/axis/*.jar" />
          </fileset>
        </path>
        
        <taskdef resource="axis-tasks.properties" classpathref="axis.classpath" />
        
        <delete dir="src">
            <include name="com/microsoft/**/*.java" />
        </delete>

        <axis-wsdl2java
          output="src"
          testcase="false"
          all="true"
          nowrapped="true"
          url="wsdl/msdn.2006.12.05.wsdl">
            <mapping
              namespace="http://schemas.microsoft.com/MSNSearch/2005/09/fex"
              package="com.microsoft.msnsearch" />
        </axis-wsdl2java>
    </target>
</project>
